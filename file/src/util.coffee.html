<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>InterMine Client Library Documentation</title>
  <script src='../../javascript/application.js'></script>
  <script src='../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../extra/README.md.html' title='imjs'>
      imjs
    </a>
    &raquo;
    <a href='../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>src</span>
    &raquo;
    <span class='title'>util.coffee</span>
  </div>
</div>
    <div id='content'>
      <h1>
        File:
        util.coffee
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>src</td>
        </tr>
      </table>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='root-variable'>
    root
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>exports</code></pre>
    
  </dd>
  <dt id='isArray-variable'>
    isArray
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'></code></pre>
    <div class='docstring'>
  <p>Test for arrayishness, either directly or by duck-typing</p>
</div>
<div class='tags'>
</div>
  </dd>
  <dt id='root.isArray-variable'>
    root.isArray
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>isArray</code></pre>
    
  </dd>
  <dt id='entities-variable'>
    entities
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>{
  &#39;&amp;&#39;: &#39;&amp;amp;&#39;,
  &#39;&lt;&#39;: &#39;&amp;lt;&#39;,
  &#39;&gt;&#39;: &#39;&amp;gt;&#39;,
  &#39;&quot;&#39;: &#39;&amp;quot;&#39;,
  &quot;&#39;&quot;: &#39;&amp;apos;&#39;
}</code></pre>
    
  </dd>
  <dt id='root.flatMap-variable'>
    root.flatMap
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>root</code></pre>
    
  </dd>
</dl>
      <h2>Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#encode-'>
        ~
(void)
<b>encode</b><span>(x)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#qsFromList-'>
        ~
(void)
<b>qsFromList</b><span>(pairs)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(obj)</span>
      </a>
    </span>
    <span class='desc'>
      Serialize an object or array as a query string. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(promises...)</span>
      </a>
    </span>
    <span class='desc'>
      Helper for performing promises in parallel. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(Promise)
<b>root</b><span>(fs..., p)</span>
      </a>
    </span>
    <span class='desc'>
      Attach one or more node-style callbacks (err, result), returning the original promise. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(n)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f)</span>
      </a>
    </span>
    <span class='desc'>
      Curried version of filtering 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f, xs)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(xs, f)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(str)</span>
      </a>
    </span>
    <span class='desc'>
      XML escaping. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f)</span>
      </a>
    </span>
    <span class='desc'>
      Until I can find a nicer name for this... 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(options, overrides)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(obj, properties)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f)</span>
      </a>
    </span>
    <span class='desc'>
      Implementation of concatmap. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(f)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(fs...)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(xs, remove)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(x)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(xs, f = id)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
((obj) -&gt; ?)
<b>root</b><span>(name)</span>
      </a>
    </span>
    <span class='desc'>
      Get a function that gets a named property off an object. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
((obj) -&gt; ?)
<b>root</b><span>(name, value)</span>
      </a>
    </span>
    <span class='desc'>
      Get a function that sets a named property, or set of properties on an object, returning the new state of the object.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#REQUIRES-'>
        ~
(void)
<b>REQUIRES</b><span>(required, got)</span>
      </a>
    </span>
    <span class='desc'>
      Make a function that lets users know when they are trying to use a service that
isn&#39;t supported by their current service.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(s, n, f)</span>
      </a>
    </span>
    <span class='desc'>
      A wrapper for functions that make requests to endpoints that require a certain version of the intermine API.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(q)</span>
      </a>
    </span>
    <span class='desc'>
      Helper function that makes sure a query doesn&#39;t have any implicit constraints through the use of inner-joins.

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(fns...)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#root-'>
        ~
(void)
<b>root</b><span>(pairs)</span>
      </a>
    </span>
    <span class='desc'>
    </span>
  </li>
</ul>
      <h2>Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>()</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='encode-'>
      ~
(void)
<b>encode</b><span>(x)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='qsFromList-'>
      ~
(void)
<b>qsFromList</b><span>(pairs)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(obj)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Serialize an object or array as a query string.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(promises...)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Helper for performing promises in parallel. Mostly so we can
change promise library as we see fit...</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(Promise)
<b>root</b><span>(fs..., p)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Attach one or more node-style callbacks (err, result), returning the original promise.
@param f The callback
@param p The promise</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Promise</tt>
      )
      &mdash;
      <span class='desc'>The promise </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(n)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Curried version of filtering</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f, xs)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(xs, f)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(str)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>XML escaping. Escape XML entities and unicode characters above ascii</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Until I can find a nicer name for this...
Basically a mapping over an object, taking a
function of the form (oldk, oldv) -&gt; [newk, newv]
with the addition of shallowly copying any values
that are arrays.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(options, overrides)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(obj, properties)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Implementation of concatmap.</p><p>This a function that applies a function to each member
of an array, and combines the results through the natural
method of combination. Arrays are concatenated, and strings
are, well, concatenated. Objects are merged.</p><p>@param f The function to apply to each item.
@param xs The things to apply them to.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(f)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(fs...)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(xs, remove)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(x)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(xs, f = id)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
((obj) -&gt; ?)
<b>root</b><span>(name)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Get a function that gets a named property off an object.</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the name of the property </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>(obj) -&gt; ?</tt>
      )
      &mdash;
      <span class='desc'>A function that gets a property&#39;s value. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
((obj) -&gt; ?)
<b>root</b><span>(name, value)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Get a function that sets a named property, or set of properties
on an object, returning the new state of the object.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>promise.then(set(&#39;name&#39;, &#39;Anne&#39;))
promise.then(set({name: &#39;Bill&#39;, age: 43}))</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>name</span>
      <span class='type'>
        (
          <tt>String|Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'>the name of the property, or an object of properties to set. </span>
    </li>
    <li>
      <span class='name'>value</span>
      <span class='type'>
        (
          <tt>?</tt>
        )
      </span>
      &mdash;
      <span class='desc'>The value to set (optional). </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>(obj) -&gt; ?</tt>
      )
      &mdash;
      <span class='desc'>A function that sets a property&#39;s value, and returns the object. </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='REQUIRES-'>
      ~
(void)
<b>REQUIRES</b><span>(required, got)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Make a function that lets users know
when they are trying to use a service that
isn&#39;t supported by their current service.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(s, n, f)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>A wrapper for functions that make requests to endpoints
that require a certain version of the intermine API.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(q)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Helper function that makes sure a query doesn&#39;t have
any implicit constraints through the use of inner-joins.
All chains of references will be converted to outer-joins.</p>
</div>
<div class='tags'>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(fns...)</span>
      <br>
    </p>
    
  </div>
  <div class='method_details'>
    <p class='signature' id='root-'>
      ~
(void)
<b>root</b><span>(pairs)</span>
      <br>
    </p>
    
  </div>
</div>
    </div>
    <div id='footer'>
  By
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.1.2
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>